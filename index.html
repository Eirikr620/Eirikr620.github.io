<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jonghyeok Hong</title>
  <style>
    @font-face {
      font-family: 'JF-Dot-Shinonome14';
      src: url('JF-Dot-Shinonome14.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    :root{
      --type: .3s;
      --base-delay: 0.3s;
      --gap: .05s;
      --hover-bg: #7c3aed;

      /* Win98 테마 컬러 */
      --w98-bg: #c0c0c0;
      --w98-dark: #404040;
      --w98-light: #ffffff;
      --w98-blue-1: #695de6;
      --w98-blue-2: #695de6;
      --w98-ctrl: 23px;
      --w98-ico:  10px;
      --ico-scale: 0.7;

      --grid: 28px;                 /* ▶ 격자 간격: 여기만 바꾸면 간격 조절 */
      --grid-major-step: 4;         /* 굵은 선: 몇 칸마다 한 번 */
      --grid-line: rgba(255,255,255,.12);  /* 얇은 선 색 */
      --grid-major: rgba(255,255,255,.22); /* 굵은 선 색 */
    }

    body {
      font-family: 'JF-Dot-Shinonome14', monospace;
      margin: 0;
      display: flex;
      justify-content: flex-start;
      align-items: flex-start;
      height: 100vh;
      background-color:#2e2747;
      padding: 100px 0 0 80px;
      overflow: hidden;

      /*Grid Background*/
      background-image:
        /* Thin line */
        linear-gradient(to right, var(--grid-line) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grid-line) 1px, transparent 1px),
        /* Thick line */
        linear-gradient(to right, var(--grid-major) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grid-major) 1px, transparent 1px);
      background-size:
        var(--grid) var(--grid),
        var(--grid) var(--grid),
        calc(var(--grid) * var(--grid-major-step)) calc(var(--grid) * var(--grid-major-step)),
        calc(var(--grid) * var(--grid-major-step)) calc(var(--grid) * var(--grid-major-step));
      background-position: top left;
      }

    /*====Main Menu====*/
    .main-menu { text-align: left; }

    .main-menu a {
      display: block;
      font-size: 1.5em;
      text-decoration: none;
      color: #ffffff;
      padding: 10px 0;
      margin: 20px 0;
      white-space: nowrap;
      overflow: hidden;
      width: 0;
      animation-fill-mode: both;
    }

    .main-menu a:focus-visible{
      outline: 2px solid var(--hover-bg);
      outline-offset: 2px;
      border-radius: 4px;
    }

    .menu-item .label{
      position: relative;
      display: inline-block;
      padding: 0 .25em;
      background-image: linear-gradient(90deg, var(--hover-bg), var(--hover-bg));
      background-size: 0% 100%;
      background-repeat: no-repeat;
      transition: background-size .35s ease, color .35s ease;
      will-change: background-size;
    }

    .menu-item:hover .label,
    .menu-item:focus-visible .label{
      background-size: 100% 100%;
      color: #fff;
    }

    /*Intro animation*/
    @keyframes typing { from { width: 0; } to { width: 105%; } }
    .menu-item:nth-child(1){ animation: typing var(--type) steps(40, end) forwards; animation-delay: var(--base-delay); }
    .menu-item:nth-child(2){ animation: typing var(--type) steps(40, end) forwards; animation-delay: calc(var(--base-delay) + var(--type) + var(--gap)); }
    .menu-item:nth-child(3){ animation: typing var(--type) steps(40, end) forwards; animation-delay: calc(var(--base-delay) + (var(--type) + var(--gap)) * 2); }
    .menu-item:nth-child(4){ animation: typing var(--type) steps(40, end) forwards; animation-delay: calc(var(--base-delay) + (var(--type) + var(--gap)) * 3); }

    @media (prefers-reduced-motion: reduce){
      .main-menu a{ width: auto; animation: none; }
      .menu-item .label{ transition: none; background-size: 0 0; }
    }

    /* ===== Win98 Retro Window ===== */
    @keyframes pop-in-w98 {
      from { opacity: 0; transform: translateY(12px) scale(0); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    .win98 {
      position: fixed;
      right: var(--right, 24px);
      top: var(--top, 110px);
      width: var(--w, 360px);         /* 작은 창모드 */
      max-width: 46vw;
      background: var(--w98-bg);
      /* 입체 테두리(양각 효과) */
      border: 1.5px solid #d9c3ff;
      box-shadow: 2px 2px 0 #12121254; 
      z-index: 1000;

      opacity: 0;           /* 처음엔 숨김 → .show 때 애니 */
      transform: translateY(12px) scale(.98);
    }

    .win98.show {
      animation: pop-in-w98 1s cubic-bezier(.2,.8,.25,1) both;
      animation-delay: var(--delay, 0s);
    }

    .win98__titlebar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 40px;
      padding: 0 6px;
      color: #fff;
      background: var(--w98-blue-1);
      user-select: none;
      cursor: default;
    }

    .win98__title {
      font-family: 'JF-Dot-Shinonome14',"Tahoma", "MS Sans Serif", system-ui, sans-serif;
      font-size: 18px;
      letter-spacing: .2px;
    }

    .win98__controls { display: inline-flex; gap: 4px; }

    .btn-98 {
      width: var(--w98-ctrl); 
      height: var(--w98-ctrl);
      position: relative;
      display:flex; align-items:center; justify-content:center;
      background: #d4b6fe;
      border: 3px solid;
      border-color: #c1acf2 #7b67c8 #8571d5 #ebd0fe;
      overflow: visible;
      cursor: pointer;
    }

    /* 아이콘 크기 */
    .btn-98 .ico{
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%) scale(var(--ico-scale));
      width: 100%; height: 100%;          /* 기준은 버튼 크기 */
      overflow: visible;
      pointer-events: none;                /* 클릭은 버튼이 받도록 */
      shape-rendering: crispEdges;
    }

    .btn-98:hover {
      filter: brightness(0.95);
    }
    .btn-98:active {
      /* 눌린 듯한 음각 효과 */
      border-color: #8571d5 #ebd0fe #c1acf2 #7b67c8
    }

    .win98__body {
      margin: 0px;
      background: #d9c3ff;
      border: 2px solid #655fe8; /* 안쪽 음각 */
      padding: 10px;
      max-height: 50vh;
      overflow: auto;
    }

    /* Drag cursor hint */
    .win98.draggable .win98__titlebar { cursor: move; }
  </style>
</head>
<body>
  <!-- Main Menu-->
  <div class="main-menu">
    <a href="profile.html" class="menu-item"><span class="label">PROFILE</span></a>
    <a href="blog1.html" class="menu-item"><span class="label">BLOG</span></a>
    <a href="projects.html" class="menu-item"><span class="label">PROJECTS</span></a>
    <a href="photo1.html" class="menu-item"><span class="label">PHOTO</span></a>
  </div>

  <!-- Retro Window -->
  <section class="win98 draggable" id="retroWin" aria-label="Retro Window" role="dialog">
    <div class="win98__titlebar" id="retroBar">
      <div class="win98__title">My Retro Window</div>
      <div class="win98__controls">

        <!-- Minimize -->
        <button class="btn-98" title="Minimize" aria-label="Minimize" id="retroMinimize">
        <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
        <rect x="1" y="7" width="8" height="1.6" fill="#5b3d84"/>
        </svg>
        </button>

        <!-- Maximize -->
        <button class="btn-98" title="Maximize" aria-label="Maximize">
        <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
        <rect x="1.5" y="1.5" width="7" height="7" fill="none" stroke="#5b3d84" stroke-width="1.4"/>
        </svg>
        </button>

        <!-- Close -->
        <button class="btn-98" title="Close" aria-label="Close" id="retroClose">
        <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
        <path d="M2 2 L8 8 M8 2 L2 8" stroke="#5b3d84" stroke-width="1.6" stroke-linecap="square"/>
        </svg>
        </button>
        </div>
    </div>

    <div class="win98__body" id="retro-content">
      <!-- Insert Here-->
      <!-- -->
      <figure style="margin:0 0 10px">
        <img src="images/sample.jpg" alt="샘플 이미지" style="width:100%;height:auto;display:block">
        <figcaption style="font-family:JF-Dot-Shinonome14, system-ui; font-size:20px; color:#333; margin-top:6px">
          Sample
        </figcaption>
      </figure>
      <p style="font-family:JF-Dot-Shinonome14, system-ui; font-size:13px; color:#111; line-height:1.4">
        Hello!
      </p>
    </div>
  </section>

  <script>
    let zTop = 2000;
    function bringToFront(el){ el.style.zIndex = ++zTop; }

    // 1) Intro Animation
    const retroWin = document.getElementById('retroWin');
    window.addEventListener('DOMContentLoaded', () => {
      retroWin.style.setProperty('--delay','300ms'); // 원하는 값
      retroWin.classList.add('show');

      // 모션 최소화 환경이면 애니 생략
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (!reduce) retroWin.classList.add('show');
      else retroWin.style.opacity = 1;
    });

    // 2) 닫기 버튼
    document.getElementById('retroClose').addEventListener('click', () => {
      retroWin.style.display = 'none';
    });

    // 3) (옵션) 타이틀바로 드래그 이동
    // 필요 없으면 아래 블록을 삭제하세요.
    (function enableDrag(winEl, handleEl){
      let dragging = false, sx=0, sy=0, left=0, top=0;
      handleEl.addEventListener('mousedown', (e) => {
        dragging = true;
        sx = e.clientX; sy = e.clientY;
        const rect = winEl.getBoundingClientRect();
        left = rect.left; top = rect.top;
        document.body.style.userSelect = 'none';
        bringToFront(winEl);
      });
      window.addEventListener('mousemove', (e) => {
        if (!dragging) return;
        const dx = e.clientX - sx, dy = e.clientY - sy;
        winEl.style.left = (left + dx) + 'px';
        winEl.style.top  = (top  + dy) + 'px';
        winEl.style.right = 'auto'; // 오른쪽 고정 해제
        winEl.style.position = 'fixed';
      });
      window.addEventListener('mouseup', () => {
        dragging = false;
        document.body.style.userSelect = '';
      });
    })(retroWin, document.getElementById('retroBar'));
  
    // z-index 스택 관리 & 모션 환경
    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // 창 생성기
    function spawnWindow({ id, title='Window', w=360, top=110, right=24, html='', delayMs=0 }){
        // 엘리먼트 뼈대
        const el = document.createElement('section');
        el.className = 'win98 draggable';
        if (id) el.id = id;
        el.style.setProperty('--w', w + 'px');
        el.style.setProperty('--top', top + 'px');
        el.style.setProperty('--right', right + 'px');

        const delayValue = reduceMotion ? '0ms' : (delayMs + 'ms');
        el.style.setProperty('--delay', delayValue);

        el.innerHTML = `
        <div class="win98__titlebar" data-handle>
            <div class="win98__title">${title}</div>
            <div class="win98__controls">
              <button class="btn-98" title="Minimize" aria-label="Minimize" data-min>
                <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
                  <rect x="1" y="6" width="8" height="1.6" fill="#5b3d84"/>
                </svg>
              </button>
              <button class="btn-98" title="Maximize" aria-label="Maximize" data-max>
                <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
                  <rect x="1.5" y="1.5" width="7" height="7" fill="none" stroke="#5b3d84" stroke-width="1.4"/>
                </svg>
              </button>
              <button class="btn-98" title="Close" aria-label="Close" data-close>
                <svg class="ico" viewBox="0 0 10 10" aria-hidden="true">
                  <path d="M2 2 L8 8 M8 2 L2 8" stroke="#5b3d84" stroke-width="1.6" stroke-linecap="square"/>
                </svg>
              </button>
            </div>
            </div>
        <div class="win98__body">${html}</div>
    `;

    document.body.appendChild(el);
    // 등장 애니
    if (!reduceMotion) requestAnimationFrame(()=> el.classList.add('show')); else el.style.opacity=1;

    // 포커스 시 맨 앞으로
    el.addEventListener('mousedown', () => el.style.zIndex = ++zTop);

    // 닫기
    el.querySelector('[data-close]').addEventListener('click', () => el.remove());

    // (옵션) 최소화/최대화 토글
    const body = el.querySelector('.win98__body');
    el.querySelector('[data-min]').addEventListener('click', ()=>{
      body.style.display = body.style.display === 'none' ? '' : 'none';
    });
    el.querySelector('[data-max]').addEventListener('click', ()=>{
      // 간단 토글: 최대화(거의 전체) ↔ 원래 위치
      const maximized = el.dataset.max === '1';
      if (!maximized){
        el.dataset.prev = JSON.stringify({ top: el.style.top, right: el.style.right, width: el.style.width });
        el.style.left = '2vw'; el.style.top = '6vh'; el.style.right = 'auto';
        el.style.width = 'min(96vw, 1000px)';
        el.dataset.max = '1';
      } else {
        const prev = JSON.parse(el.dataset.prev || '{}');
        el.style.top = prev.top || ''; el.style.right = prev.right || ''; el.style.left = ''; el.style.width = prev.width || '';
        el.dataset.max = '0';
      }
    });

    // 드래그 (타이틀바로 이동)
    enableDrag(el, el.querySelector('[data-handle]'));
    return el;
  }

  // 드래그 유틸
  function enableDrag(winEl, handleEl){
    let dragging=false, sx=0, sy=0, left=0, top=0;
    handleEl.addEventListener('mousedown', (e)=>{
      dragging=true; sx=e.clientX; sy=e.clientY;
      const r = winEl.getBoundingClientRect(); left=r.left; top=r.top;
      document.body.style.userSelect='none';
    });
    window.addEventListener('mousemove', (e)=>{
      if(!dragging) return;
      const dx=e.clientX-sx, dy=e.clientY-sy;
      winEl.style.left = (left+dx)+'px';
      winEl.style.top  = (top+dy)+'px';
      winEl.style.right='auto';         // right 고정 해제
      winEl.style.position='fixed';
    });
    window.addEventListener('mouseup', ()=>{ dragging=false; document.body.style.userSelect=''; });
  }

  // ★ 여기서 원하는 만큼 창을 추가하세요
  window.addEventListener('DOMContentLoaded', ()=>{
    spawnWindow({
      id:'win-note',
      title:'WELCOME.txt',
      w:320, top:50, right:200, 
      html:`<p style="font-family:JF-Dot-Shinonome14,system-ui;font-size:20px;line-height:1.45;margin:0">
              Welcome to My Page!!!
            </p>`,
      delayMs: 600
    });

    spawnWindow({
      id:'win-photo',
      title:'PHOTO_001.JPG',
      w:460, top:220, right:340,
      html:`<img src="images/link-click.webp" alt="샘플" style="max-width:100%;height:auto;display:block;">`,
      delayMs: 900
    });

    spawnWindow({
      id:'win-links',
      title:'LINKS',
      w:280, top:380, right:40,
      html:`<ul style="margin:0;padding-left:18px;font-family:JF-Dot-Shinonome14,system-ui;font-size:13px;line-height:1.5">
              <li><a href="profile.html">PROFILE</a></li>
              <li><a href="projects.html">PROJECTS</a></li>
              <li><a href="photo1.html">PHOTO</a></li>
            </ul>`,
      delayMs: 1200
    });
  });
  </script>
</body>
</html>
